#!/usr/bin/env bash
# Configuring Nginx server so that /redirect_me is redirected to another page.

# Update and install nginx if not already installed
sudo apt-get -y update
sudo apt-get -y install nginx

# Create a simple index.html file
echo "Holberton School" | sudo tee /var/www/html/index.html

# Append the redirection configuration to the existing default site configuration
sudo bash -c 'echo "
# Redirection from /redirect_me to another URL (https://Uri-x.com)
location /redirect_me {
    return 301 https://Uri-x.com;
}
" >> /etc/nginx/sites-available/default'

# Test the Nginx configuration to ensure no errors
sudo nginx -t

# Restart Nginx to apply the new configuration
sudo service nginx restart

echo "Nginx is configured with redirection. You can visit /redirect_me to test the 301 redirect."

